<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8" />
    <title>Ø¯ÙƒØ§Ù† Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª | Credit Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        /* Aurora-style animated background */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background:
                radial-gradient(circle at 0% 0%, #f97316 0, transparent 40%),
                radial-gradient(circle at 100% 0%, #22c55e 0, transparent 45%),
                radial-gradient(circle at 50% 100%, #3b82f6 0, transparent 45%),
                radial-gradient(circle at 50% 50%, #026d70 0, #026d70 70%);
            background-size: 200% 200%;
            animation: auroraBG 18s ease-in-out infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        @keyframes auroraBG {
            0% { background-position: 0% 0%; }
            50% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }

        body.dark {
            background:
                radial-gradient(circle at 0% 0%, #0ea5e9 0, transparent 35%),
                radial-gradient(circle at 100% 0%, #a855f7 0, transparent 40%),
                radial-gradient(circle at 50% 100%, #facc15 0, transparent 45%),
                radial-gradient(circle at 50% 50%, #020617 0, #020617 70%);
            color: #e5e7eb;
        }

        /* Main app card */
        .app {
            width: 100%;
            max-width: 440px;
            background: linear-gradient(145deg, #ffffffee, #e0f2feee);
            border-radius: 24px;
            box-shadow: 0 18px 40px rgba(15, 23, 42, 0.55);
            padding: 18px 20px 22px;
            backdrop-filter: blur(8px);
            animation: appFloat 0.9s ease-out;
        }

        body.dark .app {
            background: linear-gradient(145deg, #020617ee, #0f172aee);
            color: #e5e7eb;
        }

        @keyframes appFloat {
            0% { transform: translateY(40px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        h2 {
            text-align: center;
            margin-bottom: 12px;
        }

        .top-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .toggle-btn {
            background: #334155;
            padding: 6px 12px;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }

        .select-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .operator {
            width: 32%;
            border-radius: 12px;
            padding: 8px;
            background: #f1f5f9;
            text-align: center;
            cursor: pointer;
            transition: 0.25s;
        }

        .operator img {
            width: 60px;
            height: 60px;
            object-fit: contain;
        }

        .operator.active {
            border: 3px solid #0ea5e9;
            background: #e0f2fe;
        }

        body.dark .operator {
            background: #1e293b;
        }

        body.dark .operator.active {
            background: #0c4a6e;
        }

        input {
            width: 100%;
            padding: 12px;
            margin-bottom: 14px;
            border-radius: 10px;
            border: none;
            background: #f1f5f9;
            font-size: 17px;
            box-sizing: border-box;
        }

        body.dark input {
            background: #1e293b;
            color: #e5e7eb;
        }

        button {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            background: #0ea5e9;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: 0.25s;
        }

        button:hover {
            background: #0284c7;
        }

        /* status / info */
        #infoBox {
            margin-top: 8px;
            font-size: 14px;
            line-height: 1.5;
        }

        #loadingScreen {
            display: none;
            text-align: center;
            padding: 16px 4px;
            font-size: 18px;
        }

        #thanks {
            display: none;
            text-align: center;
            padding: 12px 4px;
            font-size: 20px;
        }
    </style>
</head>

<body>
<div class="app" id="appBox">
    <div class="top-controls">
        <div class="toggle-btn" onclick="toggleLang()">ğŸŒ Ø§Ù„Ù„ØºØ© / Language</div>
        <div class="toggle-btn" onclick="toggleDark()">ğŸŒ™ / â˜€ï¸</div>
    </div>

    <h2 id="title">Ø¯ÙƒØ§Ù† Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª</h2>

    <!-- Operator selection -->
    <div class="select-row">
        <div class="operator" id="zain" onclick="selectOp('Zain')">
            <img src="https://cdn.discordapp.com/attachments/1397198696860483764/1444598705658396683/IMG_1476.jpg" alt="Zain" />
        </div>
        <div class="operator" id="sudani" onclick="selectOp('Sudani')">
            <img src="https://cdn.discordapp.com/attachments/1397198696860483764/1444598706149265448/channels4_profile.jpg" alt="Sudani" />
        </div>
        <div class="operator" id="mtn" onclick="selectOp('MTN')">
            <img src="https://cdn.discordapp.com/attachments/1397198696860483764/1444598706639867974/New-mtn-logo.jpg" alt="MTN" />
        </div>
    </div>

    <!-- Phone + amount -->
    <input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø¨Ø¯ÙˆÙ† 0)" inputmode="numeric" />
    <input id="amount" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº (Ù…Ø«Ø§Ù„: 5000)" inputmode="numeric" oninput="updateInfo()" />

    <div id="infoBox"></div>

    <button onclick="sendOrder()" id="sendBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>

    <div id="loadingScreen">â³ Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨...</div>
    <div id="thanks">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø·Ù„Ø¨Ùƒ Ù…Ù† Ø¯ÙƒØ§Ù† Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª! â¤ï¸</div>
</div>

<script>
    let lang = "ar";
    let operator = "";
    let dark = false;

    function toggleLang() {
        lang = (lang === "ar") ? "en" : "ar";

        if (lang === "ar") {
            document.getElementById("title").innerText = "Ø¯ÙƒØ§Ù† Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª";
            document.getElementById("phone").placeholder = "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø¨Ø¯ÙˆÙ† 0)";
            document.getElementById("amount").placeholder = "Ø§Ù„Ù…Ø¨Ù„Øº (Ù…Ø«Ø§Ù„: 5000)";
            document.getElementById("sendBtn").innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
            updateInfo(); // refresh text
        } else {
            document.getElementById("title").innerText = "Credit Store";
            document.getElementById("phone").placeholder = "Phone number (without 0)";
            document.getElementById("amount").placeholder = "Amount (e.g. 5000)";
            document.getElementById("sendBtn").innerText = "Send Order";
            updateInfo();
        }
    }

    function toggleDark() {
        dark = !dark;
        document.body.classList.toggle("dark");
    }

    function selectOp(op) {
        operator = op;
        document.querySelectorAll(".operator").forEach(o => o.classList.remove("active"));
        document.getElementById(op.toLowerCase()).classList.add("active");
        updateInfo();
    }

    // simple 20% profit + 80% credit info
    function updateInfo() {
        const amountValue = parseInt(document.getElementById("amount").value || "0", 10);
        const infoBox = document.getElementById("infoBox");
        if (!amountValue || amountValue <= 0) {
            infoBox.innerText = "";
            return;
        }

        const credit = Math.round(amountValue * 0.8 / 100) * 100; // 80% rounded to nearest 100
        const profit = amountValue - credit;

        let opText = "";
        if (operator === "Zain") {
            opText = (lang === "ar") ? "Ø²ÙŠÙ† (Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ù‚Ù… Ø¨Ù€ 09)" : "Zain (start with 09)";
        } else if (operator === "Sudani") {
            opText = (lang === "ar") ? "Ø³ÙˆØ¯Ø§Ù†ÙŠ (Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ù‚Ù… Ø¨Ù€ 01)" : "Sudani (start with 01)";
        } else if (operator === "MTN") {
            opText = (lang === "ar") ? "Ø¥Ù… ØªÙŠ Ø¥Ù† (Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ù‚Ù… Ø¨Ù€ 09)" : "MTN (start with 09)";
        }

        if (lang === "ar") {
            infoBox.innerText =
                `Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ¯ÙØ¹: ${amountValue} Ø¬\n` +
                `ÙŠØ³ØªÙ„Ù… Ø±ØµÙŠØ¯ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹: ${credit} Ø¬\n` +
                `Ø±Ø¨Ø­Ùƒ: ${profit} Ø¬\n` +
                (opText ? `Ø§Ù„Ù…Ø´ØºÙ„: ${opText}` : "");
        } else {
            infoBox.innerText =
                `Customer pays: ${amountValue} SDG\n` +
                `Customer receives â‰ˆ ${credit} SDG credit\n` +
                `Your profit: ${profit} SDG\n` +
                (opText ? `Operator: ${opText}` : "");
        }
    }

    function sendOrder() {
        const phone = document.getElementById("phone").value.trim();
        const amount = document.getElementById("amount").value.trim();

        if (!operator) {
            alert(lang === "ar" ? "Ø§Ø®ØªØ± Ø§Ù„Ù…Ø´ØºÙ„ Ø£ÙˆÙ„Ø§Ù‹" : "Please select operator first");
            return;
        }
        if (!phone) {
            alert(lang === "ar" ? "Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" : "Enter phone number");
            return;
        }
        if (!amount) {
            alert(lang === "ar" ? "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" : "Enter amount");
            return;
        }

        const amountNum = parseInt(amount, 10);
        const credit = Math.round(amountNum * 0.8 / 100) * 100;
        const profit = amountNum - credit;

        const opArabic =
            operator === "Zain" ? "Ø²ÙŠÙ†" :
            operator === "Sudani" ? "Ø³ÙˆØ¯Ø§Ù†ÙŠ" :
            "Ø¥Ù… ØªÙŠ Ø¥Ù†";

        const opEnglish = operator;

        const msg =
`â­ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø¯ÙƒØ§Ù† Ø§Ù„ÙƒØ±ÙŠØ¯ÙŠØª | Credit Store

Ø§Ù„Ù…Ø´ØºÙ„: ${opArabic} (${opEnglish})
Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„: ${phone}
Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹: ${amountNum} SDG
Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„Ø¹Ù…ÙŠÙ„: ${credit} SDG
Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ: ${profit} SDG

âœ… ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹.`;

        // show loading then redirect to WhatsApp
        document.getElementById("loadingScreen").style.display = "block";
        document.getElementById("thanks").style.display = "none";

        setTimeout(() => {
            document.getElementById("loadingScreen").style.display = "none";
            document.getElementById("thanks").style.display = "block";

            // your WhatsApp Business number in wa.me format
            const waNumber = "249126181627";
            const url = `https://wa.me/${waNumber}?text=${encodeURIComponent(msg)}`;
            window.location.href = url;
        }, 1500);
    }
</script>

</body>
</html>
